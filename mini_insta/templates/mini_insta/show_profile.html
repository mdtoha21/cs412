

<!-- 


This is the html file showing a single profile of mini_intsa app.

-->



{% extends "mini_insta/base.html" %}


{% block content %}

<a href="{% url 'show_feed' profile.pk %}">Home</a>
<a href="{% url 'search' profile.pk %}">Search</a>
<h1>{{ profile.display_name}}</h1>
<img src="{{ profile.profile_image_url }}" 
         alt="{{ profile.username }}'s profile picture" 
         style="width:250px;height:250px;border-radius:8px;object-fit:cover;">

<br> <br> 
joined on {{profile.join_date}} <br>

{{profile.bio_text}} <br>

<a href="{% url 'create_post' profile.pk %}">Create a New Post</a> <br>

<a href="{% url 'update_profile' profile.pk %}">Update Profile</a>


<h1>Posts by {{profile.display_name}}</h1>
<br> <br> 
joined on {{profile.join_date}} <br>
{{profile.bio_text}} <br>

<a href="{% url 'show_followers' profile.pk %}">
    Followers: {{ profile.get_num_followers }}
</a>
|
<a href="{% url 'show_following' profile.pk %}">
    Following: {{ profile.get_num_following }}
</a>
<br><br>

{% for post in profile.get_all_post %}
        {% with first_photo=post.photo_set.first %}
            {% if first_photo %}

                <a href="{% url 'show_post' post.pk %}">
                    <img src="{{ first_photo.get_image_url }}" 
                         alt="Post photo" 
                         style="width:300px;height:auto;border-radius:8px;margin:5px;">
                </a>
           
            {% else %}
                <div style="width:300px;height:300px;background:#eee;border-radius:8px;display:flex;align-items:center;justify-content:center;margin:5px;">
                    No photo
                </div>
            {% endif %}
        {% endwith %}
{% endfor %}

 

{% endblock %}